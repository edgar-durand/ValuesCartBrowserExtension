!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=34)}({1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=void 0,t.environment={production:!1,apiUrl:"https://valuescart.azurewebsites.net/api",clientId:"174673017831-cchdgk1roe79gbnpd12qan8oe9h3gdmg.apps.googleusercontent.com",firebaseConfig:{apiKey:"AIzaSyD-Oln8Eiw3XxbZMXuxNSzMdv5yXGRCS8M",authDomain:"values-cart.firebaseapp.com",projectId:"values-cart",storageBucket:"values-cart.appspot.com",messagingSenderId:"174673017831",appId:"1:174673017831:web:81f95a6a69317c63f4db42",measurementId:"G-4HJHFHQBBJ"},linkedin:{clientId:"78kl5k60rs56pr",clientSecret:"qZ7SJuipldYQPBmh",scope:"r_liteprofile r_emailaddress"},facebook:{appId:"208332551414397",appSecret:"2c7b8d4fef7bbe274236703d2c743b43"}}},34:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,c){function a(e){try{u(n.next(e))}catch(e){c(e)}}function i(e){try{u(n.throw(e))}catch(e){c(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,c,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(35);console.log("serviceWorker script loaded"),chrome.runtime.onMessage.addListener((function(e,t,r){var a=e.action,i=e.payload;return console.log({action:a,payload:i}),new Promise((function(e,t){return n(void 0,void 0,void 0,(function(){var r;return o(this,(function(n){switch(n.label){case 0:if(!a)return[3,5];switch(a){case"SIGN_WITH_PROVIDER":return[3,1];case"SHOW_POPUP":return[3,3]}return[3,4];case 1:return[4,c.signWithProvider(i.provider)];case 2:return r=n.sent(),e(r),[3,4];case 3:return chrome.windows.create({url:"index.html#/popup/item",type:"popup",focused:!0,left:9e3,top:35,width:305,height:650}),e(!0),[3,4];case 4:return e(i),[3,6];case 5:t("request is empty."),n.label=6;case 6:return[2]}}))}))})).then((function(e){r(e)})).catch((function(e){r(e)})),!0}))},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signWithProvider=t.createGoogleAuth2Url=void 0;var n=r(36),o=r(1),c=r(37);t.createGoogleAuth2Url=function(){var e=o.environment.clientId,t=encodeURIComponent(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),r=new URL("https://accounts.google.com/o/oauth2/v2/auth");return r.searchParams.append("client_id",e),r.searchParams.append("redirect_uri","https://0dd4-217-138-194-91.ngrok.io/login"),r.searchParams.append("response_type","code token"),r.searchParams.append("scope","openid"),r.searchParams.append("access_type","offline"),r.searchParams.append("state","jskls3n"),r.searchParams.append("prompt","consent"),r.searchParams.append("nonce",t),r.href},t.signWithProvider=function(e){return new Promise((function(r,o){switch(e){case n.PROVIDERS.GOOGLE_AUTH_PROVIDER:try{return chrome.identity.launchWebAuthFlow({url:t.createGoogleAuth2Url(),interactive:!0},(function(e){console.log({redirectURL:e}),r(e)})),!0}catch(e){console.log({error:e}),r({error:e.error,result:!1,message:e.message})}return!0;case n.PROVIDERS.FACEBOOK_AUTH_PROVIDER:try{return chrome.identity.launchWebAuthFlow({url:c.createFacebookAuthUrl(),interactive:!0},(function(e){r(e)})),!0}catch(e){r({error:e.error,result:!1,message:e.message})}return!0;case n.PROVIDERS.LINKEDIN_AUTH_PROVIDER:try{return chrome.identity.launchWebAuthFlow({url:c.createlinkedinAuthUrl(),interactive:!0},(function(e){r(c.extractCodeFromURL(e))})),!0}catch(e){r({error:e.error,result:!1,message:e.message})}return!0}return!0}))}},36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVIDERS=void 0,function(e){e[e.GOOGLE_AUTH_PROVIDER=0]="GOOGLE_AUTH_PROVIDER",e[e.FACEBOOK_AUTH_PROVIDER=1]="FACEBOOK_AUTH_PROVIDER",e[e.LINKEDIN_AUTH_PROVIDER=2]="LINKEDIN_AUTH_PROVIDER"}(t.PROVIDERS||(t.PROVIDERS={}))},37:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractCodeFromURL=t.createFacebookAuthUrl=t.createlinkedinAuthUrl=void 0;var n=r(1);t.createlinkedinAuthUrl=function(){var e=encodeURIComponent(n.environment.linkedin.clientId),t=encodeURIComponent(n.environment.linkedin.scope),r=encodeURIComponent(chrome.identity.getRedirectURL("auth")),o=encodeURIComponent("linkedinAuth");return"https://www.linkedin.com/oauth/v2/authorization?response_type="+encodeURIComponent("code")+"&state="+o+"&scope="+t+"&client_id="+e+"&redirect_uri="+r},t.createFacebookAuthUrl=function(){return"https://www.facebook.com/v12.0/dialog/oauth?client_id="+encodeURIComponent(n.environment.facebook.appId)+"&redirect_uri="+encodeURIComponent(chrome.identity.getRedirectURL("auth"))+"&state="+encodeURIComponent("facebookAuth")+"&response_type=code%20token&display=popup"},t.extractCodeFromURL=function(e){var t=/([?]code=)(.*)([&]state=linkedinAuth)/.exec(e);return{code:t&&t[2],status:t&&t[3]}}}});